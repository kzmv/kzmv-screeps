{"code":"import { creepHelpers } from 'helpers.role';\r\nexport var roleHarvester = {\r\n    run: function (creep) {\r\n        creepHelpers.isWorking(creep);\r\n        if (creep.memory.working) {\r\n            var targets = creep.room.find(FIND_STRUCTURES, {\r\n                filter: function (s) { return (s.structureType == STRUCTURE_EXTENSION ||\r\n                    s.structureType == STRUCTURE_SPAWN ||\r\n                    s.structureType == STRUCTURE_TOWER) && s.energy < s.energyCapacity; }\r\n            });\r\n            if (targets.length > 0) {\r\n                creepHelpers.transferToSpawn(creep);\r\n            }\r\n            else {\r\n                creepHelpers.transferToContainer(creep);\r\n            }\r\n        }\r\n        else {\r\n            creepHelpers.extractFromSource(creep);\r\n        }\r\n    }\r\n};\r\n//# sourceMappingURL=role.harvester.js.map","map":{"version":3,"file":"role.harvester.js","sourceRoot":"","sources":["src/role.harvester.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,YAAY,EAAC,MAAM,cAAc,CAAC;AAE1C,MAAM,CAAC,IAAM,aAAa,GAAG;IACzB,GAAG,EAAE,UAAU,KAAY;QACvB,YAAY,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE;YACtB,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBAC/C,MAAM,EAAE,UAAC,CAAe,IAAK,OAAA,CAAC,CAAC,CAAC,aAAa,IAAI,mBAAmB;oBAChE,CAAC,CAAC,aAAa,IAAI,eAAe;oBAClC,CAAC,CAAC,aAAa,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,cAAc,EAFzC,CAEyC;aACzE,CAAC,CAAC;YACC,IAAG,OAAO,CAAC,MAAM,GAAE,CAAC,EAAC;gBACjB,YAAY,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;aACvC;iBAAK;gBACF,YAAY,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;aAC3C;SAEJ;aACI;YACD,YAAY,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;SACzC;IACL,CAAC;CACJ,CAAC"}}
