{"code":"import { roleRepairer } from 'role.repairer';\r\nimport { creepHelpers } from 'helpers.role';\r\nvar percentage = 0.000100;\r\nexport var roleWallRepairer = {\r\n    run: function (creep) {\r\n        if (creep.memory.working == true && creep.carry.energy == 0) {\r\n            creep.memory.working = false;\r\n        }\r\n        else if (creep.memory.working == false && creep.carry.energy == creep.carryCapacity) {\r\n            creep.memory.working = true;\r\n        }\r\n        if (creep.memory.working) {\r\n            var walls = creep.room.find(FIND_STRUCTURES, {\r\n                filter: function (s) { return s.structureType == STRUCTURE_WALL || s.structureType == STRUCTURE_RAMPART; }\r\n            });\r\n            var target = creep.pos.findClosestByPath(walls, {\r\n                filter: function (s) {\r\n                    return s.hits / s.hitsMax < percentage;\r\n                }\r\n            });\r\n            if (target != undefined) {\r\n                if (creep.repair(target) == ERR_NOT_IN_RANGE) {\r\n                    creep.moveTo(target);\r\n                }\r\n            }\r\n            else {\r\n                roleRepairer.run(creep);\r\n            }\r\n        }\r\n        else {\r\n            creepHelpers.extractFromContainer(creep);\r\n        }\r\n    }\r\n};\r\n//# sourceMappingURL=role.wallRepairer.js.map","map":{"version":3,"file":"role.wallRepairer.js","sourceRoot":"","sources":["src/role.wallRepairer.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,YAAY,EAAC,MAAM,eAAe,CAAA;AAC1C,OAAO,EAAC,YAAY,EAAC,MAAM,cAAc,CAAC;AAE1C,IAAI,UAAU,GAAG,QAAQ,CAAC;AAC1B,MAAM,CAAC,IAAM,gBAAgB,GAAG;IAC5B,GAAG,EAAE,UAAC,KAAY;QACd,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE;YACzD,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;SAChC;aAAM,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,aAAa,EAAE;YACnF,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;SAC/B;QAED,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE;YACtB,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBACzC,MAAM,EAAE,UAAC,CAAe,IAAK,OAAA,CAAC,CAAC,aAAa,IAAI,cAAc,IAAI,CAAC,CAAC,aAAa,IAAI,iBAAiB,EAAzE,CAAyE;aACzG,CAAC,CAAC;YAEH,IAAI,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,KAAK,EAAE;gBAC5C,MAAM,EAAE,UAAC,CAAY;oBACjB,OAAO,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,GAAG,UAAU,CAAA;gBAAC,CAAC;aAC/C,CAAC,CAAC;YAEH,IAAI,MAAM,IAAI,SAAS,EAAE;gBACrB,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,gBAAgB,EAAE;oBAC1C,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;iBACxB;aACJ;iBACI;gBACD,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;aAC3B;SACJ;aACI;YACD,YAAY,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;SAC5C;IACL,CAAC;CACJ,CAAC"}}
