{"code":"import { creepHelpers } from 'helpers.role';\r\nexport var roleORUpgrader = {\r\n    run: function (creep) {\r\n        if (creep.memory.working && creep.carry.energy == 0) {\r\n            creep.memory.working = false;\r\n        }\r\n        else if (!creep.memory.working && creep.carry.energy == creep.carryCapacity) {\r\n            creep.memory.working = true;\r\n        }\r\n        if (creep.pos.x * creep.pos.y === 0 || creep.pos.x === 49 || creep.pos.y === 49) {\r\n            if (creep.room.name == creep.memory.home) {\r\n                creep.moveTo(new RoomPosition(25, 25, creep.memory.home));\r\n            }\r\n            else {\r\n                creep.moveTo(new RoomPosition(25, 25, creep.memory.targetRoom));\r\n            }\r\n        }\r\n        if (creep.memory.working) {\r\n            if (creep.upgradeController(creep.room.controller) == ERR_NOT_IN_RANGE) {\r\n                creep.moveTo(creep.room.controller);\r\n            }\r\n        }\r\n        else {\r\n            if (creep.room.name == creep.memory.targetRoom) {\r\n                creepHelpers.extractFromSource(creep);\r\n            }\r\n            else {\r\n                var exit = creep.room.findExitTo(creep.memory.targetRoom);\r\n                creep.moveTo(creep.pos.findClosestByRange(exit));\r\n            }\r\n        }\r\n    }\r\n};\r\n//# sourceMappingURL=role.otherRoomUpgrader.js.map","map":{"version":3,"file":"role.otherRoomUpgrader.js","sourceRoot":"","sources":["src/role.otherRoomUpgrader.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,YAAY,EAAC,MAAM,cAAc,CAAC;AAE1C,MAAM,CAAC,IAAM,cAAc,GAAG;IAC1B,GAAG,EAAE,UAAC,KAAY;QACd,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE;YACjD,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;SAChC;aACI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,aAAa,EAAE;YACzE,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;SAC/B;QAGD,IAAG,KAAK,CAAC,GAAG,CAAC,CAAC,GAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAC;YACzE,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE;gBACtC,KAAK,CAAC,MAAM,CAAC,IAAI,YAAY,CAAC,EAAE,EAAC,EAAE,EAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;aAC3D;iBAAM;gBACH,KAAK,CAAC,MAAM,CAAC,IAAI,YAAY,CAAC,EAAE,EAAC,EAAE,EAAC,KAAK,CAAC,MAAM,CAAC,UAAoB,CAAC,CAAC,CAAC;aAC3E;SAEJ;QAED,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE;YACtB,IAAI,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,UAAiC,CAAC,IAAI,gBAAgB,EAAE;gBAC3F,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,UAAiC,CAAC,CAAC;aAC9D;SACJ;aACI;YACD,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE;gBAC5C,YAAY,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;aACzC;iBACI;gBACD,IAAI,IAAI,GAAO,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,UAAoB,CAAC,CAAC;gBACxE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;aACpD;SACJ;IACL,CAAC;CACJ,CAAC"}}
