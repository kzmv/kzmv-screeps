{"code":"import { creepHelpers } from 'helpers.role';\r\nexport var roleORHarvester = {\r\n    run: function (creep) {\r\n        if (creep.memory.working && creep.carry.energy == 0) {\r\n            creep.memory.working = false;\r\n        }\r\n        else if (!creep.memory.working && creep.carry.energy == creep.carryCapacity) {\r\n            creep.memory.working = true;\r\n        }\r\n        if (creep.pos.x * creep.pos.y === 0 || creep.pos.x === 49 || creep.pos.y === 49) {\r\n            if (creep.room.name == creep.memory.home) {\r\n                creep.moveTo(new RoomPosition(25, 25, creep.memory.home), { maxRooms: 1, visualizePathStyle: { stroke: '#ffaa00' } });\r\n                creep.moveTo(new RoomPosition(25, 25, creep.memory.home), { maxRooms: 1, visualizePathStyle: { stroke: '#ffaa00' } });\r\n            }\r\n            else {\r\n                creep.moveTo(new RoomPosition(25, 25, creep.memory.targetRoom), { maxRooms: 1, visualizePathStyle: { stroke: '#ffaa00' } });\r\n            }\r\n        }\r\n        if (creep.memory.working) {\r\n            if (creep.room.name == creep.memory.home) {\r\n                creepHelpers.transferToContainer(creep);\r\n            }\r\n            else {\r\n                var constructionSite = creep.pos.findClosestByPath(FIND_CONSTRUCTION_SITES);\r\n                var repairStructure = creep.pos.findClosestByPath(FIND_STRUCTURES, {\r\n                    filter: function (s) { return s.hits < s.hitsMax && s.structureType != STRUCTURE_WALL && s.structureType != STRUCTURE_RAMPART; }\r\n                });\r\n                if (constructionSite) {\r\n                    if (creep.build(constructionSite) == ERR_NOT_IN_RANGE) {\r\n                        creep.moveTo(constructionSite, { visualizePathStyle: { stroke: '#ffaa00' } });\r\n                    }\r\n                }\r\n                else if (repairStructure) {\r\n                    if (creep.repair(repairStructure) == ERR_NOT_IN_RANGE) {\r\n                        creep.moveTo(repairStructure);\r\n                    }\r\n                }\r\n                else {\r\n                    var exit = creep.room.findExitTo(creep.memory.home);\r\n                    creep.moveTo(creep.pos.findClosestByRange(exit), { visualizePathStyle: { stroke: '#ffaa00' } });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (creep.room.name == creep.memory.targetRoom) {\r\n                creepHelpers.extractFromSource(creep);\r\n            }\r\n            else {\r\n                var exit = creep.room.findExitTo(creep.memory.targetRoom);\r\n                creep.moveTo(creep.pos.findClosestByRange(exit));\r\n            }\r\n        }\r\n    }\r\n};\r\n//# sourceMappingURL=role.otherRoomHarvester.js.map","map":{"version":3,"file":"role.otherRoomHarvester.js","sourceRoot":"","sources":["src/role.otherRoomHarvester.ts"],"names":[],"mappings":"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"}}
