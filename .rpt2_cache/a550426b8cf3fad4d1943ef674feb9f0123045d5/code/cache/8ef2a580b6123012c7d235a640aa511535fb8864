{"code":"import { creepHelpers } from 'helpers.role';\r\nimport { roleUpgrader } from 'role.upgrader';\r\nexport var roleBuilder = {\r\n    run: function (creep) {\r\n        if (creep.memory.working && creep.carry.energy == 0) {\r\n            creep.memory.working = false;\r\n        }\r\n        else if (!creep.memory.working && creep.carry.energy == creep.carryCapacity) {\r\n            creep.memory.working = true;\r\n        }\r\n        if (creep.memory.working) {\r\n            var constructionSite = creep.pos.findClosestByPath(FIND_CONSTRUCTION_SITES);\r\n            if (constructionSite) {\r\n                if (creep.build(constructionSite) == ERR_NOT_IN_RANGE) {\r\n                    creep.moveTo(constructionSite);\r\n                }\r\n            }\r\n            else {\r\n                roleUpgrader.run(creep);\r\n            }\r\n        }\r\n        else {\r\n            creepHelpers.extractFromContainer(creep);\r\n        }\r\n    }\r\n};\r\n//# sourceMappingURL=role.builder.js.map","map":{"version":3,"file":"role.builder.js","sourceRoot":"","sources":["src/role.builder.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,YAAY,EAAC,MAAM,cAAc,CAAC;AAC1C,OAAO,EAAC,YAAY,EAAC,MAAM,eAAe,CAAC;AAE3C,MAAM,CAAC,IAAM,WAAW,GAAG;IACvB,GAAG,EAAE,UAAU,KAAY;QACvB,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE;YACjD,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;SAChC;aACI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,aAAa,EAAE;YACzE,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;SAC/B;QACD,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE;YACtB,IAAI,gBAAgB,GAAqB,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,CAAC;YAC9F,IAAI,gBAAgB,EAAE;gBAClB,IAAI,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,gBAAgB,EAAE;oBACnD,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;iBAClC;aACJ;iBACI;gBACD,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;aAC3B;SACJ;aACI;YACG,YAAY,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;SAEhD;IACL,CAAC;CACJ,CAAA"}}
